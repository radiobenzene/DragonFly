#! C:/Program Files/Nuke13.1v2/nuke-13.1.2.dll -nx
version 13.1 v2
define_window_layout_xml {<?xml version="1.0" encoding="UTF-8"?>
<layout version="1.0">
    <window x="0" y="0" w="1917" h="1008" screen="0">
        <splitter orientation="1">
            <split size="40"/>
            <dock id="" hideTitles="1" activePageId="Toolbar.1">
                <page id="Toolbar.1"/>
            </dock>
            <split size="1254" stretch="1"/>
            <splitter orientation="2">
                <split size="567"/>
                <dock id="" activePageId="Viewer.1">
                    <page id="Viewer.1"/>
                </dock>
                <split size="399"/>
                <dock id="" activePageId="DAG.1" focus="true">
                    <page id="DAG.1"/>
                    <page id="Curve Editor.1"/>
                    <page id="DopeSheet.1"/>
                </dock>
            </splitter>
            <split size="615"/>
            <dock id="" activePageId="Properties.1">
                <page id="Properties.1"/>
                <page id="uk.co.thefoundry.backgroundrenderview.1"/>
            </dock>
        </splitter>
    </window>
</layout>
}
Root {
 inputs 0
 name C:/Users/aduttagu/Desktop/nukescript.nk
 colorManagement Nuke
 workingSpaceLUT linear
 monitorLut sRGB
 monitorOutLUT rec709
 int8Lut sRGB
 int16Lut sRGB
 logLut Cineon
 floatLut linear
}
BackdropNode {
 inputs 0
 name BackdropNode6
 tile_color 0x71c67100
 label "Validation Test"
 note_font_size 42
 xpos -3610
 ypos 906
 bdwidth 331
 bdheight 299
}
Read {
 inputs 0
 file_type exr
 file C:/Users/aduttagu/Downloads/goldenImage(1).exr
 format "256 256 0 0 256 256 1 square_256"
 origset true
 name Read1
 xpos -4076
 ypos 821
}
set Nf7552400 [stack 0]
BlinkScript {
 recompileCount 2
 ProgramGroup 1
 KernelDescription "2 \"MyavgpixelKernel\" iterate componentWise ac893f834beea77f5bf4e7323459b4fe40128b5ff14898ef9d158d16a5702502 2 \"src\" Read Random \"dst\" Write Point 1 \"Box size\" Int 1 AAEAAA== 1 \"size\" 1 1 2 \"noofpixel\" Float 1 1 AAAAAA== \"hsize\" Int 1 1 AAAAAA=="
 kernelSource "kernel MyavgpixelKernel : ImageComputationKernel<eComponentWise>\n\{\n\tImage<eRead, eAccessRandom, eEdgeClamped> src; // the input image\n\tImage<eWrite> dst; // the output image\n\tparam:\n\tint size;\n\tlocal:\n\tfloat noofpixel; // Number of pixels in the box\n\tint hsize;\n\t// Defines user parameters\n\tvoid define() \{\n\t\tdefineParam(size, \"Box size\", 256);\n \t\}\n \tvoid init() \{\n \t\thsize = size/2;\n \t\tnoofpixel = float(size * hsize);\n \t\}\n \n \t// pos gives the position of the kernel in the output image\n \tvoid process(int2 pos) \{\n \t\t// Read the input image\n \t\tfloat sum = 0;\n \t\tfor(int k = 0; k <= size-1; k++) \{\n \t\t\tfor(int l = 0; l <= hsize-1; l++) \{\n \t\t\t\tsum += src(pos.x + l, pos.y + k);\n \t\t\t\}\n \t\t\}\n \t\t// Write the result to the output image\n \t\tdst() = sum / noofpixel;\n \t\}\n\};\n\n"
 rebuild ""
 format "1 1 0 0 1 1 1 1_1"
 specifiedFormat true
 rebuild_finalise ""
 name BlinkScript1
 xpos -4184
 ypos 966
}
push $Nf7552400
BlinkScript {
 recompileCount 1
 ProgramGroup 1
 KernelDescription "2 \"MyavgpixelKernel\" iterate componentWise 6e36f4829aa9a82917348a78f5fb4e130865f3a1e2ebd31d833fe3477ae339ab 2 \"src\" Read Random \"dst\" Write Point 1 \"Box size\" Int 1 AAEAAA== 1 \"size\" 1 1 2 \"noofpixel\" Float 1 1 AAAAAA== \"hsize\" Int 1 1 AAAAAA=="
 kernelSource "kernel MyavgpixelKernel : ImageComputationKernel<eComponentWise>\n\{\n\tImage<eRead, eAccessRandom, eEdgeClamped> src; // the input image\n\tImage<eWrite> dst; // the output image\n\tparam:\n\tint size;\n\tlocal:\n\tfloat noofpixel; // Number of pixels in the box\n\tint hsize;\n\t// Defines user parameters\n\tvoid define() \{\n\t\tdefineParam(size, \"Box size\", 256);\n \t\}\n \tvoid init() \{\n \t\thsize = size/2;\n \t\tnoofpixel = float(size * hsize);\n \t\}\n \n \t// pos gives the position of the kernel in the output image\n \tvoid process(int2 pos) \{\n \t\t// Read the input image\n \t\tfloat sum = 0;\n \t\tfor(int k = 0; k <= size-1; k++) \{\n \t\t\tfor(int l = hsize; l <= size-1; l++) \{\n \t\t\t\tsum += src(pos.x + l, pos.y + k);\n \t\t\t\}\n \t\t\}\n \t\t// Write the result to the output image\n \t\tdst() = sum / noofpixel;\n \t\}\n\};\n"
 rebuild ""
 format "1 1 0 0 1 1 1 1_1"
 specifiedFormat true
 rebuild_finalise ""
 name BlinkScript2
 xpos -3963
 ypos 973
}
Merge2 {
 inputs 2
 operation plus
 name Merge1
 selected true
 xpos -4077
 ypos 1095
}
Expression {
 expr0 r/2
 expr1 g/2
 expr2 b/2
 expr3 a/2
 name Expression1
 xpos -4077
 ypos 1204
}
set Nf7551400 [stack 0]
Dot {
 name Dot2
 xpos -3791
 ypos 1207
}
Dot {
 name Dot3
 xpos -3791
 ypos 840
}
Dot {
 name Dot4
 xpos -3496
 ypos 840
}
Dot {
 name Dot1
 label Input
 note_font_size 32
 note_font_color 0xff
 xpos -3496
 ypos 975
}
Reformat {
 format "2048 1080 0 0 2048 1080 1 2K_DCP"
 filter impulse
 name Reformat1
 xpos -3530
 ypos 1022
}
Group {
 name checkKernel3
 xpos -3530
 ypos 1058
 addUserKnob {20 checkKernel}
 addUserKnob {41 "Local GPU: " T BlinkScript4.gpuName}
 addUserKnob {41 "Use GPU if Available" T BlinkScript4.useGPUIfAvailable}
 addUserKnob {26 ""}
}
 Input {
  inputs 0
  name Input1
  xpos -3100
  ypos 1252
 }
 BlinkScript {
  recompileCount 9
  ProgramGroup 1
  KernelDescription "2 \"checkKernel\" iterate pixelWise dbcaedd53032862306cf846fe83d493b3192e011217662159f486e7e2c839bcf 2 \"src\" Read Point \"dst\" Write Point 0 0 1 \"mu\" Float 4 1 AAAAAAAAAAAAAAAAAAAAAA=="
  EncodedSource "1 680 yUR59vt7auTe9yVDGsfV3gdB6/9C2Q3qLY3097Dq+fKe1vrBxSjwQPi6gfZ3u71AeisF6AxWoPmFUlXrpSfEVA4AUPPBmAweN+uTegETo1vzz9gWJY//SbojsyX8MzLqfLxTW0oxBf10rtZ4EXCz8HnjDzm3cVFznaWbB7iu6AuTzNvLj+HwRqP4LyXmbQBKxIuMnSlvAl9wTj9Rxcv8o+yO2fbrpUA7B2M4b60WBOSwbAuHeSx50qOtTVvnsFDEs41bBp78MFQ054f8lpoPPzmS0FUi1CDXV96uOsosAYWr0W1S56bHvvm0HJMks4MPb4LDNGprQJdI9RpCfjwGBs/ofnfa/pn+Wo5JKyP3BjBndyCRhABkh2N4UtP+4klpjQhQlJjcv2eB/ZnRGOc48iUspqgXbkNkzCNpW/OlByVH8tQVsFr5IdEYkGB8rpr46AN3nP7trK+x2R46xwsttpq0fAmiTEV+MRGzokDKOvLuIPHUBvznOcAk0d/DPThOoCvLTdrHl9P6lOrP5YTBVszh7m8YKtj8/ErMAMxOGqUhAmmuwBVggA3WZcW73+tUz13RTIMvTvwt5DHiq/rCzcyLO+CsSP416mr+bRmdiVJU0EkEWLw77NPl0G5z4a5SVEr/y1fRoOPdXEM0By4XjmlikcKLxAujzpgJr0MmwTB8gy8yzqO3Uu+qxcHH3qknemnrj0zSkWSV4d33NbHlQO1M6f8POCyHFAr6uW4xcHhW7hKw3Z3XvM/rAFXZw2DxaTVlGo6frHQZ+j9bCWPghIxrIA/LO6u7U4XidUfUnwv4k0wL/ZkHt/nvJVGaQOXjkeFrTwVU8aaTgy+arF5q2gOQEAFSXUXE0mdZoR5e8BMmLHd2Sf5dmKbblKHchJyPWNKDyd+w9veLVWxLIf9enQ=="
  rebuild ""
  protectKernelWhenPublishing true
  rebuild_finalise ""
  name BlinkScript4
  xpos -3100
  ypos 1292
 }
 Output {
  name Output1
  xpos -3100
  ypos 1392
 }
end_group
PostageStamp {
 name PostageStamp1
 xpos -3530
 ypos 1101
 postage_stamp true
}
StickyNote {
 inputs 0
 name StickyNote5
 label "The output must be green\nif the computation of the avg\nis correct for the golden image."
 xpos -3439
 ypos 1120
}
push $Nf7551400
Viewer {
 frame 1
 frame_range 1-100
 name Viewer1
 xpos -4303
 ypos 1206
}
